---
description: Learn about the OSI Model of networking
---

# OSI Model

## OSI Model (Open Systems Interconnection)

The OSI Model divides several networking functionalities into seven layers. When one device communicates with another device, the packet origination from the source device travels through several OSI Layers before reaching the destination device.&#x20;

The OSI Model Layers and their corresponding functionalities/communication media are as follows:

1. **Physical:** data cables, cat6
2. **Data:** switching, MAC addresses
3. **Network:** IP Addresses, routing
4. **Transport:** TCP/UDP
5. **Session:** session management
6. **Presentation:** WMV, JPEG, MOV
7. **Application:** HTTP, SMTP

## ICMP Request on the same network

The most basic command we can use for communicating with another device is the `ping` command. Let's see which OSI Layers are used in an ICMP Request and what are the functions of each layer.&#x20;

Open Command Prompt or a Bash shell and type the following command. Replace the IP Address with a valid address on the same network.

```bash
$ ping 192.168.10.2
PING 192.168.10.2 (192.168.10.2) 56(84) bytes of data.
64 bytes from 192.168.10.2: icmp_seq=1 ttl=64 time=0.129 ms
^C
--- 192.168.10.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 4ms
```

_Note: The following information is provided by Cisco Packet Tracer Simulations._

Now, let's see which OSI Layers are being used on our host device for this communication:

| In Layers        | Out Layers                                                                                       |
| ---------------- | ------------------------------------------------------------------------------------------------ |
| **Layer 7**: N/A | **Layer 7**: N/A                                                                                 |
| **Layer 6**: N/A | **Layer 6**: N/A                                                                                 |
| **Layer 5**: N/A | **Layer 5**: N/A                                                                                 |
| **Layer 4**: N/A | **Layer 4**: N/A                                                                                 |
| **Layer 3**: N/A | **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 192.168.10.2 ICMP Message Type: 8 |
| **Layer 2**: N/A | **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.85DD.1A47                                |
| **Layer 1**: N/A | **Layer 1**: Port(s): FastEthernet1                                                              |

Next, this frame will travel to the router/switch interface which then forwards this frame to the destination device:

| In Layers                                                         | Out Layers                                                        |
| ----------------------------------------------------------------- | ----------------------------------------------------------------- |
| **Layer 7**: N/A                                                  | **Layer 7**: N/A                                                  |
| **Layer 6**: N/A                                                  | **Layer 6**: N/A                                                  |
| **Layer 5**: N/A                                                  | **Layer 5**: N/A                                                  |
| **Layer 4**: N/A                                                  | **Layer 4**: N/A                                                  |
| **Layer 3**: N/A                                                  | **Layer 3**: N/A                                                  |
| **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.85DD.1A47 | **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.85DD.1A47 |
| **Layer 1**: Port(s): GigabitEthernet3                            | **Layer 1**: Port(s): GigabitEthernet1                            |

Finally, the frame reaches the destination device. The destination device will then send a reply which follows the same route in-reverse:

| In Layers                                                                                        | Out Layers                                                                                       |
| ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------ |
| **Layer 7**: N/A                                                                                 | **Layer 7**: N/A                                                                                 |
| **Layer 6**: N/A                                                                                 | **Layer 6**: N/A                                                                                 |
| **Layer 5**: N/A                                                                                 | **Layer 5**: N/A                                                                                 |
| **Layer 4**: N/A                                                                                 | **Layer 4**: N/A                                                                                 |
| **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 192.168.10.2 ICMP Message Type: 8 | **Layer 3**: IP Header Source IP: 192.168.10.2 Destination IP: 192.168.10.1 ICMP Message Type: 8 |
| **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.85DD.1A47                                | **Layer 2**: Ethernet II Header: 000C.85DD.1A47 >> 0060.7035.2948                                |
| **Layer 1**: Port(s): FastEthernet1                                                              | **Layer 1**: Port(s): FastEthernet1                                                              |

Some important things to note:

* The switch/router interface does not need Layer 3 information. This is because the switch interface is already aware of all IP Addresses in its network and can forward the frame based on incoming information. However, if the switch was not aware of the IP Addressing information, it will first send out an ARP Request to find the destination device.
* The highest layer in this ICMP communication is Layer 3. This is because we are limiting ourselves to a simple ICPM Request as well as devices on the same network. As the frame never travels outside the network boundary, transport protocols on Layer 4 such as TCP/UDP are not used.

## ICMP Request on a remote network

We noticed the OSI Layering functions for devices on the same network. But, we don't always remain on the same network. The moment we access a web page on the internet (like you're doing right now) is the moment we cross the network boundary. Now, more OSI Layers are used.&#x20;

For this activity, we will `ping` a device on the remote network. The command I am using is part of a network simulation, you can try to `ping` google.com and the process is still the same. However, the communication between your device and google.com might jump through more hops.

```bash
$ ping 10.10.10.14
PING 10.10.10.14 (10.10.10.14) 56(84) bytes of data.
Request timed out.
64 bytes from 10.10.10.14: icmp_seq=1 ttl=64 time=0.129 ms
^C
--- 10.10.10.14 ping statistics ---
1 packets transmitted, 1 received, 50% packet loss, time 64ms
```

_Note: The following information is provided by Cisco Packet Tracer Simulations._

Now, let's see which OSI Layers are being used on our host device for this communication:

| In Layers        | Out Layers                                                                                      |
| ---------------- | ----------------------------------------------------------------------------------------------- |
| **Layer 7**: N/A | **Layer 7**: N/A                                                                                |
| **Layer 6**: N/A | **Layer 6**: N/A                                                                                |
| **Layer 5**: N/A | **Layer 5**: N/A                                                                                |
| **Layer 4**: N/A | **Layer 4**: N/A                                                                                |
| **Layer 3**: N/A | **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 10.10.10.14 ICMP Message Type: 8 |
| **Layer 2**: N/A | **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 00D0.CA8F.714A                               |
| **Layer 1**: N/A | **Layer 1**: Port(s): FastEthernet1                                                             |

This time, the destination MAC Address belongs to the Network Gateway. As this frame's IP Address is not on the same network, our host device is sending out the frame to the Gateway Router. First, we send this frame to the switch interface which will then forward it to the Gateway router.

| In Layers                                                         | Out Layers                                                        |
| ----------------------------------------------------------------- | ----------------------------------------------------------------- |
| **Layer 7**: N/A                                                  | **Layer 7**: N/A                                                  |
| **Layer 6**: N/A                                                  | **Layer 6**: N/A                                                  |
| **Layer 5**: N/A                                                  | **Layer 5**: N/A                                                  |
| **Layer 4**: N/A                                                  | **Layer 4**: N/A                                                  |
| **Layer 3**: N/A                                                  | **Layer 3**: N/A                                                  |
| **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.CA8F.714A | **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.CA8F.714A |
| **Layer 1**: Port(s): GigabitEthernet3                            | **Layer 1**: Port(s): GigabitEthernet1                            |

Next, the Gateway Router receives this frame and forwards it to the next hop.

| In Layers                                                                                       | Out Layers                                                                                      |
| ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| **Layer 7**: N/A                                                                                | **Layer 7**: N/A                                                                                |
| **Layer 6**: N/A                                                                                | **Layer 6**: N/A                                                                                |
| **Layer 5**: N/A                                                                                | **Layer 5**: N/A                                                                                |
| **Layer 4**: N/A                                                                                | **Layer 4**: N/A                                                                                |
| **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 10.10.10.14 ICMP Message Type: 8 | **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 10.10.10.14 ICMP Message Type: 8 |
| **Layer 2**: Ethernet II Header: 0060.7035.2948 >> 000C.CA8F.714A                               | **Layer 2**: Ethernet II Header: 000C.588C.2401 >> 0060.566C.5AB7                               |
| **Layer 1**: Port(s): FastEthernet0                                                             | **Layer 1**: Port(s): FastEthernet1                                                             |

The next hop, (in our case: a switch interface) receives this frame and examines the IP address. If the hop knows the IP Address it will forward it to the correct destination. If not, it will forward it to the next hop. Fortunately, our switch interface knows the IP address.

| In Layers                                                         | Out Layers                                                        |
| ----------------------------------------------------------------- | ----------------------------------------------------------------- |
| **Layer 7**: N/A                                                  | **Layer 7**: N/A                                                  |
| **Layer 6**: N/A                                                  | **Layer 6**: N/A                                                  |
| **Layer 5**: N/A                                                  | **Layer 5**: N/A                                                  |
| **Layer 4**: N/A                                                  | **Layer 4**: N/A                                                  |
| **Layer 3**: N/A                                                  | **Layer 3**: N/A                                                  |
| **Layer 2**: Ethernet II Header: 000C.588C.2401 >> 0060.566C.5AB7 | **Layer 2**: Ethernet II Header: 000C.588C.2401 >> 0060.566C.5AB7 |
| **Layer 1**: Port(s): FastEthernet1                               | **Layer 1**: Port(s): FastEthernet2                               |

Finally, the destination device receives our frame and sends a reply back to us.

| In Layers                                                                                       | Out Layers                                                                                      |
| ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| **Layer 7**: N/A                                                                                | **Layer 7**: N/A                                                                                |
| **Layer 6**: N/A                                                                                | **Layer 6**: N/A                                                                                |
| **Layer 5**: N/A                                                                                | **Layer 5**: N/A                                                                                |
| **Layer 4**: N/A                                                                                | **Layer 4**: N/A                                                                                |
| **Layer 3**: IP Header Source IP: 192.168.10.1 Destination IP: 10.10.10.14 ICMP Message Type: 8 | **Layer 3**: IP Header Source IP: 10.10.10.14 Destination IP: 192.168.10.1 ICMP Message Type: 8 |
| **Layer 2**: Wireless                                                                           | **Layer 2**: Wireless                                                                           |
| **Layer 1**: Port(s): Wireless                                                                  | **Layer 1**: Port(s): Wireless                                                                  |

Some important things to note:

* The In and Out frame on our destination device only contains Wireless as the Layer 2 information. This is because we are using the Wireless protocol for this specific frame unlike other frames where we used Wired Ethernet protocols.
* Once again, the communication does not go beyond Layer 3. This is because we still do not need transport protocols such as TCP/UDP.&#x20;
* I use the term "frame" but the term "packet" is also correct. A frame contains Layer 2 information while a packet contains Layer 3 information. I use frame as this is the term used by _Cisco Packet Tracer_.
